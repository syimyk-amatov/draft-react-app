# React Практика: Context API

## 1. Теория

### Проблема (Prop Drilling)
Когда вам нужно передать данные через множество уровней компонентов (например, от дедушки к правнуку), передача их через `props` становится неудобной и загрязняет код. Это называется "Prop Drilling".

### Решение (Context)
Context API позволяет передавать данные через дерево компонентов без необходимости передавать пропсы на каждом промежуточном уровне.

### Основные части:
1.  **`createContext`**: Создает объект контекста.
2.  **`Provider` (Поставщик)**: Компонент, который предоставляет данные всем своим потомкам.
3.  **`useContext`**: Хук, который позволяет читать данные из контекста в любом дочернем компоненте.

```tsx
// 1. Создание
const MyContext = createContext(defaultValue);

// 2. Предоставление (в родителе)
<MyContext.Provider value={/* какие-то данные */}>
  <Child />
</MyContext.Provider>

// 3. Потребление (в любом ребенке)
const data = useContext(MyContext);
```

---

## 2. Задача 1: Глобальная тема (Light/Dark Mode)

Вам нужно добавить переключение цветовой темы в ваше приложение `FruitVotingApp`.

### Требования:
1.  **`ThemeContext`**:
    *   Создайте контекст, который хранит текущую тему (`'light'` или `'dark'`) и функцию для её переключения `toggleTheme`.
2.  **`ThemeProvider`**:
    *   Создайте компонент-обертку, который хранит состояние темы и предоставляет его через Context Provider.
3.  **Применение**:
    *   Оберните `FruitVotingApp` в `ThemeProvider`.
    *   В `FruitVotingApp` добавьте кнопку переключения темы.
    *   Измените стили приложения в зависимости от выбранной темы (например, меняйте background и цвет текста).

---

## 3. Задача 2: Local Context - Многошаговая форма (Wizard)

В этой задаче вы создадите отдельное, не связанное с фруктами, мини-приложение: пошаговую форму регистрации.

### Сценарий
У нас есть процесс регистрации из 3 шагов. Состояние (введенные данные и номер текущего шага) должно быть доступно всем компонентам шагов, а также кнопкам навигации.

### Требования:

1.  **Создайте структуру папок**: `src/lessons/wizard`.
2.  **`WizardContext`**:
    *   Хранит состояние:
        *   `step`: текущий номер шага (1, 2, или 3).
        *   `data`: объект с данными `{ name: "", email: "", password: "" }`.
    *   Предоставляет методы:
        *   `nextStep()`: переход вперед.
        *   `prevStep()`: переход назад.
        *   `updateData(field, value)`: обновление полей данных.

3.  **Компоненты**:
    *   `RegistrationWizard` (Родитель): Оборачивает всё в провайдер.
    *   `Step1_Personal`: Поле ввода имени.
    *   `Step2_Contact`: Поле ввода email.
    *   `Step3_Security`: Поле ввода пароля.
    *   `Summary`: (Финальный экран) Показывает все введенные данные, если шаги пройдены.
    *   `WizardNavigation`: Кнопки "Назад" и "Далее", которые скрываются/дизейблятся в зависимости от шага.

### Пример использования:

```tsx
// Внутри шага (например, Step1)
const { data, updateData } = useContext(WizardContext);
return <input value={data.name} onChange={e => updateData("name", e.target.value)} />

// В навигации
const { step, nextStep, prevStep } = useContext(WizardContext);
```

Эта задача научит вас использовать контекст для управления сложным состоянием внутри изолированного модуля (формы).
